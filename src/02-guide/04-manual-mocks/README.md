# マニュアルモック

モジュールのモック化に関して。

手動で作成するモックなので、ドキュメントには「マニュアルモック」と記載されている。

## 自作モジュールをモッキングする

以下のようにモジュールがある階層から`__mocks__`ディレクトリにモジュールを作成することで、そのモジュールがモックとして動作する。

```
.
├── __mocks__
│   └── user.js
├── user.js
└── user.test.js
```

例えば、`user.test.js`でモックを利用したい場合は、以下のように`jest.mock`でモック化を明示する必要がある。

```js
// user.js が __mock__/user.js に置き換わる
jest.mock('../user');
```

## 外部モジュールをモッキングする

以下のように`node_modules`ディレクトリ同じ階層から`__mocks__`ディレクトリにモジュールを作成することで、そのモジュールがモックとして動作する。

```
.
├── __mocks__
│   └── lodash.js # node_modules の lodash がモックに置き換わる
└── node_modules
```
